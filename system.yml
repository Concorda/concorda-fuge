pgdata:
  image: postgres
  container_name: pgdata
  command: /bin/true
  volumes:
    - /var/lib/postgresql/data

postgres:
  image: postgres
  ports:
    - 5432:5432
  environment:
    - POSTGRES_USER=concorda
    - POSTGRES_PASSWORD=concorda
  volumes_from:
    - pgdata

mesh:
  build: node_modules/seneca-mesh-base/
  container_name: 'seneca-mesh-base'

concorda:
  build: node_modules/concorda/
  container_name: concorda
  environment:
    - SERVICE_HOST=0.0.0.0
    - PORT=3010
    - LOCAL=false
  env_file:
    - production.env

dashboard:
  build: node_modules/concorda-dashboard/
  container_name: concorda-dashboard
  environment:
    - SERVICE_HOST=0.0.0.0
    - PORT=3050
    - LOCAL=false
  env_file:
    - production.env

client:
  build: node_modules/vidi-dashboard/
  container_name: client
  environment:
    - SERVICE_HOST=0.0.0.0
    - WEB_PORT=3000
    - START=concorda:true
